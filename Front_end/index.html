<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Juros Compostos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>

            /* Vari√°veis de transi√ß√£o suave */
    body { transition: background-color 0.3s, color 0.3s; }

    /* Estilos do Modo Escuro */
    body.dark-mode {
        background-color: #111827; /* Gray 900 */
        color: #F9FAFB;
    }

    body.dark-mode .card {
        background-color: #1F2937; /* Gray 800 */
        border-color: #374151;
        color: #F9FAFB;
    }

    body.dark-mode .input-field {
        background-color: #374151;
        border-color: #4B5563;
        color: white;
    }

    body.dark-mode label, body.dark-mode p {
        color: #D1D5DB;
    }

    body.dark-mode h2, body.dark-mode h3, body.dark-mode .text-black {
        color: #FFFFFF !important;
    }

    /* Ajuste para o card de resultado preto n√£o sumir */
    body.dark-mode .bg-black {
        border: 1px solid #374151;
    }

        body { background-color: #F3F4F6; }

        .card { 
            background-color: white; padding: 1.5rem; border-radius: 0.5rem; 
            border: 1px solid #e5e7eb; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        h2 { 
            color: #000000 !important; 
            font-weight: 800; 
        }

        .input-field { 
            border: 1px solid #D1D5DB; border-radius: 0.375rem; padding: 0.5rem; 
            background-color: #FFFFFF; outline: none; width: 100%;
        }
        .input-field:focus { border-color: #10B981; border-width: 2px; }

        .btn-calc { 
            background-color: #10B981; 
            color: white; 
            font-weight: bold; 
            padding: 0.8rem 2.5rem; 
            border-radius: 0.375rem; 
            border: 2px solid #000000; 
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            display: inline-block;
        }

        .btn-calc:hover { 
            background-color: #059669; 
            box-shadow: 4px 4px 0px #000000; 
            transform: translate(-2px, -2px);
        }

        .tabela-wrapper {
            max-height: 400px;
            overflow-y: auto;
            overflow-x: auto;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
        }

        .sticky-header th {
            position: sticky;
            top: 0;
            z-index: 10;
            background-color: #F9FAF7;
            box-shadow: inset 0 -1px 0 #e5e7eb;
        }

        .tabela-wrapper::-webkit-scrollbar { width: 8px; height: 8px; }
        .tabela-wrapper::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        .tabela-wrapper::-webkit-scrollbar-thumb { background: #10B981; border-radius: 10px; }
        
        th { background-color: #F9FAF7; padding: 0.75rem; text-align: left; color: #4b5563; }
        td { padding: 0.75rem; border-top: 1px solid #e5e7eb; }
    </style>
</head>
<body class="bg-gray-100 p-4 md:p-10">
    <div class="fixed top-4 right-4 z-50">
        <button onclick="toggleDarkMode()" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 transition-all border-2 border-black shadow-[4px_4px_0px_#000]">
            <span id="dark-icon" class="text-xl">üåô</span>
        </button>
    </div>
    <div class="max-w-5xl mx-auto">
        <div class="card mb-8">
            <h2 class="text-xl font-bold mb-6">Simulador de Juros Compostos</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-semibold mb-1">Valor inicial</label>
                    <div class="flex">
                        <span class="bg-gray-200 p-2 border border-r-0 rounded-l-md text-sm">R$</span>
                        <input type="text" id="valor_inicial" class="input-field rounded-l-none js-money" value="0,00">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-1">Valor mensal</label>
                    <div class="flex">
                        <span class="bg-gray-200 p-2 border border-r-0 rounded-l-md text-sm">R$</span>
                        <input type="text" id="valor_mensal" class="input-field rounded-l-none js-money" value="0,00">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-1">Taxa de juros</label>
                    <div class="flex">
                        <span class="bg-gray-200 p-2 border border-r-0 rounded-l-md text-sm">%</span>
                        <input type="text" id="taxa_juros" class="input-field rounded-none js-money" value="0,00">
                        <select id="tipo_taxa" class="input-field rounded-l-none border-l-0 w-32">
                            <option value="anual">anual</option>
                            <option value="mensal">mensal</option>
                        </select>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-1">Per√≠odo</label>
                    <div class="flex">
                        <input type="number" id="periodo" class="input-field rounded-r-none" value="1">
                        <select id="tipo_periodo" class="input-field rounded-l-none border-l-0 w-32">
                            <option value="anos">ano(s)</option>
                            <option value="meses">m√™s(es)</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="flex flex-col md:flex-row items-center gap-4 mt-8">
                <button onclick="calcular()" class="btn-calc w-full md:w-auto">
                    Calcular
                </button>
                <span id="erro-mensagem" class="text-red-600 font-extrabold text-lg bg-red-50 px-3 py-1 rounded-md hidden"></span>
            </div>
        </div>
        <div class="mt-12 mb-12 space-y-8">
    <div class="card bg-white border-l-8 border-emerald-500 shadow-md">
        <h3 class="text-2xl font-black uppercase mb-4 flex items-center gap-2">
            üöÄ Como os Juros Compostos transformam sua vida?
        </h3>
        <p class="text-gray-600 leading-relaxed">
            Os juros compostos s√£o a for√ßa mais poderosa das finan√ßas. Enquanto os juros simples crescem como uma escada (degrau por degrau), os compostos crescem como uma <strong>bola de neve</strong>: os juros que voc√™ ganha hoje rendem mais juros amanh√£. No longo prazo, isso cria um crescimento acelerado que pode multiplicar seu patrim√¥nio muitas vezes, permitindo que o dinheiro trabalhe para voc√™, e n√£o o contr√°rio.
        </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <div class="card p-6 border-t-4 border-emerald-500 shadow-sm">
            <h4 class="font-black text-lg uppercase text-emerald-600 mb-3">üå± Valor Inicial</h4>
            <p class="text-sm text-gray-600 leading-relaxed">
                √â a sua semente. √â o montante que voc√™ deposita no primeiro dia para dar o pontap√© inicial no seu projeto de liberdade.
            </p>
        </div>

        <div class="card p-6 border-t-4 border-emerald-500 shadow-sm">
            <h4 class="font-black text-lg uppercase text-emerald-600 mb-3">üíß Valor Mensal</h4>
            <p class="text-sm text-gray-600 leading-relaxed">
                √â o combust√≠vel do sistema. Dep√≥sitos mensais constantes aumentam a velocidade com que a bola de neve cresce.
            </p>
        </div>

        <div class="card p-6 border-t-4 border-emerald-500 shadow-sm">
            <h4 class="font-black text-lg uppercase text-emerald-600 mb-3">üìà Taxa de Juros</h4>
            <p class="text-sm text-gray-600 leading-relaxed">
                √â a efici√™ncia do seu dinheiro. Quanto melhor a taxa, mais r√°pido o seu capital se multiplica sozinho.
            </p>
        </div>

        <div class="card p-6 border-t-4 border-emerald-500 shadow-sm">
            <h4 class="font-black text-lg uppercase text-emerald-600 mb-3">‚è≥ Per√≠odo</h4>
            <p class="text-sm text-gray-600 leading-relaxed">
                O fator mais importante. O tempo permite que a matem√°tica fa√ßa milagres; quanto mais tempo, maior a multiplica√ß√£o.
            </p>
        </div>
    </div>
    </div>

        <div id="bloco-aposentadoria" class="card bg-gray-50 mb-8 border-l-4 border-emerald-500">
            <h3 class="text-xl font-bold text-black mb-4 uppercase tracking-wide">Planejamento de Aposentadoria</h3>
            <p class="text-gray-700 mb-6 leading-relaxed">
                Esta calculadora ajuda voc√™ a descobrir o <strong>Valor Presente</strong> necess√°rio para garantir uma renda mensal futura. 
                Diferente dos juros compostos comuns, ela utiliza a <strong>Taxa Real</strong> (descontando a infla√ß√£o).
            </p>
            
            <div class="text-center">
                <button onclick="irParaAposentadoria()" class="btn-calc">
                    Acessar Calculadora de Aposentadoria
                </button>
            </div>
        </div>

        <div id="secao-resultados" class="hidden">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div class="card text-center">
                    <p class="text-gray-500 text-sm">Total em Juros</p>
                    <p id="res-juros" class="text-2xl font-bold text-emerald-500"></p>
                </div>
                <div class="card text-center">
                    <p class="text-gray-500 text-sm">Valor Total Investido</p>
                    <p id="res-investido" class="text-2xl font-bold text-gray-700"></p>
                </div>
                <div class="card text-center">
                    <p class="text-gray-500 text-sm">Valor Total Final</p>
                    <p id="res-final" class="text-2xl font-bold text-gray-800"></p>
                </div>
            </div>

            <div class="card mb-8">
                <h3 class="font-bold border-b pb-2 mb-4 uppercase text-xs tracking-wider text-gray-500">Tabela</h3>
                <div class="tabela-wrapper">
                    <table class="w-full">
                        <thead class="sticky-header">
                            <tr>
                                <th>M√™s</th>
                                <th>Juros</th>
                                <th>Total Investido</th>
                                <th>Total Juros</th>
                                <th>Total Acumulado</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-corpo"></tbody>
                    </table>
                </div>
            </div>

            <div class="card mb-8">
                <h3 class="font-bold border-b pb-2 mb-4 uppercase text-xs tracking-wider text-gray-500">Gr√°fico</h3>
                <div class="flex flex-col gap-12"> 
                    <div class="h-80 w-full max-w-md mx-auto">
                        <canvas id="chartPizza"></canvas>
                    </div>
                    <div class="h-80 w-full">
                        <canvas id="chartBarras"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div id="destino-aposentadoria-final" class="mt-8"></div>
    </div> 
    <script src="script.js"></script>
</body>
</html>